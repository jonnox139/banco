{"version":3,"sources":["authorize-consent.component.ts"],"names":[],"mappings":";;;;;;;;AAAA,sCAAiE;AAEjE,kHAA6G;AAG7G,2CAA+B;AAY/B;IAaE,mCACS,gBAA6B,EAC7B,MAAiB,EAChB,MAAc;QAFf,qBAAgB,GAAhB,gBAAgB,CAAa;QAC7B,WAAM,GAAN,MAAM,CAAW;QAChB,WAAM,GAAN,MAAM,CAAQ;QAfxB,iBAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,IAAI,CAAC,CAAC;QAC3E,SAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC;IAerD,CAAC;IAWJ,sBAAI,8CAAO;aAAX;YACE,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;QACvC,CAAC;;;OAAA;IAED,4CAAQ,GAAR;QAAA,iBAmBC;QAlBC,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;YAC9C,wBAAI,CAAC,IAAI,CAAC;gBACR,IAAI,EAAE,OAAO;gBACb,IAAI,EAAE,8EAA8E;gBACpF,KAAK,EAAE,IAAI;gBACX,iBAAiB,EAAE,KAAK;aACzB,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;gBACR,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,YAAa,CAAC,YAAY,CAAC;YAC1D,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;YAClC,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC;YACjC,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC;YACnC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,YAAY,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;SAC5C;IACH,CAAC;IAED,6CAAS,GAAT;QACE,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iEAA6B,CAAC,CAAC;QAClE,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,MAAM;YACvC,OAAO,CAAC,GAAG,CAAC,oBAAkB,MAAQ,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IAvDQ;QAAR,YAAK,EAAE;iEAAyB;IACxB;QAAR,YAAK,EAAE;kEAA0B;IACzB;QAAR,YAAK,EAAE;iEAAyB;IACxB;QAAR,YAAK,EAAE;0DAAkB;IAEjB;QAAR,YAAK,EAAE;kEAA0B;IACzB;QAAR,YAAK,EAAE;mEAA2B;IAC1B;QAAR,YAAK,EAAE;kEAA0B;IACzB;QAAR,YAAK,EAAE;2DAAmB;IAXhB,yBAAyB;QALrC,gBAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;YACjC,WAAW,EAAE,oCAAoC;YACjD,SAAS,EAAE,CAAC,oCAAoC,CAAC;SAClD,CAAC;OACW,yBAAyB,CAwJrC;IAAD,gCAAC;CAxJD,AAwJC,IAAA;AAxJY,8DAAyB","file":"authorize-consent.component.js","sourcesContent":["import { Component, Inject, Input, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { PopUpAuthorizeAccessComponent } from '../pop-up-authorize-access/pop-up-authorize-access.component';\nimport { AuthService } from 'src/app/auth/services/auth.service';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\n\nexport interface DialogData {\n  animal: string;\n  name: string;\n}\n\n@Component({\n  selector: 'app-authorize-consent',\n  templateUrl: './authorize-consent.component.html',\n  styleUrls: ['./authorize-consent.component.scss'],\n})\nexport class AuthorizeConsentComponent implements OnInit {\n  cuentaOrigen = JSON.parse(localStorage.getItem('selectedAccount') || '{}');\n  user = JSON.parse(localStorage.getItem('user') || '{}');\n  @Input() nombreCuentaOrigen: any;\n  @Input() tipoDocumentoOrigen: any;\n  @Input() numDocumentoOrigen: any;\n  @Input() BancoOrigen: any;\n\n  @Input() nombreCuentaDestino: any;\n  @Input() tipoDocumentoDestino: any;\n  @Input() numDocumentoDestino: any;\n  @Input() BancoDestino: any;\n\n  constructor(\n    public AuthorizeConsent: AuthService,\n    public dialog: MatDialog,\n    private router: Router\n  ) {}\n  deteccionDB: any;\n  separacionDatos: any;\n  separacionTX: any;\n\n  celularDestino: any;\n  Handle: any;\n  cantidad: any;\n  celularOrigen: any;\n  signer: any;\n\n  get usuario() {\n    return this.AuthorizeConsent.usuario;\n  }\n\n  ngOnInit(): void {\n    if (Object.keys(this.cuentaOrigen).length == 0) {\n      Swal.fire({\n        icon: 'error',\n        text: 'Por favor, revise su entrada, no se encontró una cuenta origen seleccionada.',\n        timer: 1500,\n        showConfirmButton: false,\n      }).then((e) => {\n        this.router.navigateByUrl('/dashboard');\n      });\n    } else {\n      this.nombreCuentaOrigen = this.cuentaOrigen!.numerocuenta;\n      this.tipoDocumentoOrigen = 'CC';\n      this.numDocumentoOrigen = '12345';\n      this.BancoOrigen = 'Caja Social';\n      this.nombreCuentaDestino = '99999';\n      this.BancoDestino = 'Davivienda';\n      localStorage.removeItem('selectedAccount');\n    }\n  }\n\n  ConsumoTX(): void {\n    const dialogRef = this.dialog.open(PopUpAuthorizeAccessComponent);\n    dialogRef.afterClosed().subscribe((result) => {\n      console.log(`Dialog result: ${result}`);\n    });\n  }\n\n  /*ConsumoTXOrigen() {\n    this.celularOrigen = this.separacionDatos[0].split(\"=\")\n    this.signer = this.separacionDatos[1].split(\"=\")\n    this.cantidad = this.separacionDatos[2].split(\"=\")\n    const datosPrueba = {\n      \"source\": this.signer[1],\n      \"target\": \"$\" + this.celularOrigen[1],\n      \"symbol\": \"$tin\",\n      \"amount\": this.cantidad[1],\n      \"labels\": {\n        \"description\": \"\",\n        \"domain\": \"tin\",\n        \"type\": \"SEND\",\n        \"sourceChannel\": \"APP\",\n        \"deviceFingerPrint\": {\n        }\n      }\n    }\n    this.AuthorizeConsent.ejecucionTX(datosPrueba).subscribe(data => {\n      this.nombreCuentaOrigen = data.snapshot.source.signer.labels.firstName + \" \" + data.snapshot.source.signer.labels.lastName\n      this.tipoDocumentoOrigen = data.snapshot.source.signer.labels.proprietary;\n      this.numDocumentoOrigen = data.snapshot.source.signer.labels.identification;\n      this.BancoOrigen = data.snapshot.source.signer.labels.bankName\n    })\n  }\n\n  ConsumoTXDestino() {\n    this.celularDestino = this.separacionDatos[0].split(\"=\")\n    this.Handle = this.separacionDatos[1].split(\"=\")\n    this.cantidad = this.separacionDatos[2].split(\"=\")\n    const datosPrueba = {\n      \"source\": this.signer[1],\n      \"target\": \"$\" + this.celularOrigen[1],\n      \"symbol\": \"$tin\",\n      \"amount\": this.cantidad[1],\n      \"labels\": {\n        \"description\": \"\",\n        \"domain\": \"tin\",\n        \"type\": \"SEND\",\n        \"sourceChannel\": \"APP\",\n        \"deviceFingerPrint\": {\n        }\n      }\n    }\n    this.AuthorizeConsent.ejecucionTX(datosPrueba).subscribe(data => {\n      console.log(data);\n\n      this.nombreCuentaDestino = data.snapshot.source.signer.labels.firstName + \" \" + data.snapshot.source.signer.labels.lastName\n      this.tipoDocumentoDestino = data.snapshot.source.signer.labels.proprietary;\n      this.numDocumentoDestino = data.snapshot.source.signer.labels.identification;\n      this.BancoDestino = data.snapshot.source.signer.labels.bankName\n\n    })\n  }\n\n  ConsumoTXEnvioDinero() {\n    this.celularDestino = this.separacionDatos[0].split(\"=\")\n    this.Handle = this.separacionDatos[1].split(\"=\")\n    this.cantidad = this.separacionDatos[2].split(\"=\")\n    const datosPrueba = {\n      \"source\": \"$\"+ this.celularOrigen[1],\n      \"target\": \"$\"+ this.celularDestino[1],\n      \"symbol\": \"$tin\",\n      \"amount\": this.cantidad,\n      \"labels\": {\n        \"description\": \"DEV - REQUEST Trx 01\",\n        \"domain\": \"tin\",\n        \"type\": \"REQUEST\",\n        \"sourceChannel\": \"APP\",\n        \"deviceFingerPrint\": {\n          \"hash\": \"26fff5af6441f8e15a71e8d62c361714484b1b308c99e8eb68ca85e2a7e0dc58\",\n          \"ipAddress\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\n          \"country\": \"Colombia\",\n          \"city\": \"Bogotá\",\n          \"mobileDevice\": \"990000862471854\",\n          \"SIMCardId\": \"8991101200003204510\",\n          \"model\": \"Huawei Mate 20 Pro\",\n          \"operator\": \"Bharti Airtel Limited\"\n        }\n      }\n    }\n    this.AuthorizeConsent.ejecucionTX(datosPrueba).subscribe(data => {\n      this.router.navigate(['verification/authorize-Access/']);\n    })\n  }\n\n  ConsumoTX(): void {\n    const dialogRef = this.dialog.open(PopUpAuthorizeAccessComponent);\n      dialogRef.afterClosed().subscribe(result => {\n        console.log(`Dialog result: ${result}`);\n      });\n  }*/\n}\n"]}