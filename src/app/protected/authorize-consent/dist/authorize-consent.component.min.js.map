{"version":3,"sources":["authorize-consent.component.ts"],"names":["core_1","require","pop_up_authorize_access_component_1","sweetalert2_1","AuthorizeConsentComponent","AuthorizeConsent","dialog","router","this","cuentaOrigen","JSON","parse","localStorage","getItem","user","Object","defineProperty","prototype","usuario","ngOnInit","_this","keys","length","fire","icon","text","timer","showConfirmButton","then","e","navigateByUrl","nombreCuentaOrigen","numerocuenta","tipoDocumentoOrigen","numDocumentoOrigen","BancoOrigen","nombreCuentaDestino","BancoDestino","removeItem","ConsumoTX","open","PopUpAuthorizeAccessComponent","afterClosed","subscribe","result","console","log","__decorate","Input","Component","selector","templateUrl","styleUrls","exports"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBAEAC,oCAAAD,QAAA,gEAGAE,cAAAF,QAAA,eAYAG,0BAAA,WAaE,SAAAA,EACSC,EACAC,EACCC,GAFDC,KAAAH,iBAAAA,EACAG,KAAAF,OAAAA,EACCE,KAAAD,OAAAA,EAfVC,KAAAC,aAAeC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,MACrEL,KAAAM,KAAOJ,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MAsJpD,OA5HEE,OAAAC,eAAIZ,EAAAa,UAAA,UAAO,KAAX,WACE,OAAOT,KAAKH,iBAAiBa,yCAG/Bd,EAAAa,UAAAE,SAAA,WAAA,IAAAC,EAAAZ,KAC+C,GAAzCO,OAAOM,KAAKb,KAAKC,cAAca,OACjCnB,cAAA,QAAKoB,KAAK,CACRC,KAAM,QACNC,KAAM,+EACNC,MAAO,KACPC,mBAAmB,IAClBC,KAAK,SAACC,GACPT,EAAKb,OAAOuB,cAAc,iBAG5BtB,KAAKuB,mBAAqBvB,KAAKC,aAAcuB,aAC7CxB,KAAKyB,oBAAsB,KAC3BzB,KAAK0B,mBAAqB,QAC1B1B,KAAK2B,YAAc,cACnB3B,KAAK4B,oBAAsB,QAC3B5B,KAAK6B,aAAe,aACpBzB,aAAa0B,WAAW,qBAI5BlC,EAAAa,UAAAsB,UAAA,WACoB/B,KAAKF,OAAOkC,KAAKtC,oCAAAuC,+BACzBC,cAAcC,UAAU,SAACC,GACjCC,QAAQC,IAAI,kBAAkBF,MArDzBG,WAAA,CAAR/C,OAAAgD,2CACQD,WAAA,CAAR/C,OAAAgD,4CACQD,WAAA,CAAR/C,OAAAgD,2CACQD,WAAA,CAAR/C,OAAAgD,oCAEQD,WAAA,CAAR/C,OAAAgD,4CACQD,WAAA,CAAR/C,OAAAgD,6CACQD,WAAA,CAAR/C,OAAAgD,4CACQD,WAAA,CAAR/C,OAAAgD,qCAXU5C,EAAyB2C,WAAA,CALrC/C,OAAAiD,UAAU,CACTC,SAAU,wBACVC,YAAa,qCACbC,UAAW,CAAC,yCAEDhD,GAAb,GAAaiD,QAAAjD,0BAAAA","file":"authorize-consent.component.min.js","sourcesContent":["import { Component, Inject, Input, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { PopUpAuthorizeAccessComponent } from '../pop-up-authorize-access/pop-up-authorize-access.component';\nimport { AuthService } from 'src/app/auth/services/auth.service';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\n\nexport interface DialogData {\n  animal: string;\n  name: string;\n}\n\n@Component({\n  selector: 'app-authorize-consent',\n  templateUrl: './authorize-consent.component.html',\n  styleUrls: ['./authorize-consent.component.scss'],\n})\nexport class AuthorizeConsentComponent implements OnInit {\n  cuentaOrigen = JSON.parse(localStorage.getItem('selectedAccount') || '{}');\n  user = JSON.parse(localStorage.getItem('user') || '{}');\n  @Input() nombreCuentaOrigen: any;\n  @Input() tipoDocumentoOrigen: any;\n  @Input() numDocumentoOrigen: any;\n  @Input() BancoOrigen: any;\n\n  @Input() nombreCuentaDestino: any;\n  @Input() tipoDocumentoDestino: any;\n  @Input() numDocumentoDestino: any;\n  @Input() BancoDestino: any;\n\n  constructor(\n    public AuthorizeConsent: AuthService,\n    public dialog: MatDialog,\n    private router: Router\n  ) {}\n  deteccionDB: any;\n  separacionDatos: any;\n  separacionTX: any;\n\n  celularDestino: any;\n  Handle: any;\n  cantidad: any;\n  celularOrigen: any;\n  signer: any;\n\n  get usuario() {\n    return this.AuthorizeConsent.usuario;\n  }\n\n  ngOnInit(): void {\n    if (Object.keys(this.cuentaOrigen).length == 0) {\n      Swal.fire({\n        icon: 'error',\n        text: 'Por favor, revise su entrada, no se encontró una cuenta origen seleccionada.',\n        timer: 1500,\n        showConfirmButton: false,\n      }).then((e) => {\n        this.router.navigateByUrl('/dashboard');\n      });\n    } else {\n      this.nombreCuentaOrigen = this.cuentaOrigen!.numerocuenta;\n      this.tipoDocumentoOrigen = 'CC';\n      this.numDocumentoOrigen = '12345';\n      this.BancoOrigen = 'Caja Social';\n      this.nombreCuentaDestino = '99999';\n      this.BancoDestino = 'Davivienda';\n      localStorage.removeItem('selectedAccount');\n    }\n  }\n\n  ConsumoTX(): void {\n    const dialogRef = this.dialog.open(PopUpAuthorizeAccessComponent);\n    dialogRef.afterClosed().subscribe((result) => {\n      console.log(`Dialog result: ${result}`);\n    });\n  }\n\n  /*ConsumoTXOrigen() {\n    this.celularOrigen = this.separacionDatos[0].split(\"=\")\n    this.signer = this.separacionDatos[1].split(\"=\")\n    this.cantidad = this.separacionDatos[2].split(\"=\")\n    const datosPrueba = {\n      \"source\": this.signer[1],\n      \"target\": \"$\" + this.celularOrigen[1],\n      \"symbol\": \"$tin\",\n      \"amount\": this.cantidad[1],\n      \"labels\": {\n        \"description\": \"\",\n        \"domain\": \"tin\",\n        \"type\": \"SEND\",\n        \"sourceChannel\": \"APP\",\n        \"deviceFingerPrint\": {\n        }\n      }\n    }\n    this.AuthorizeConsent.ejecucionTX(datosPrueba).subscribe(data => {\n      this.nombreCuentaOrigen = data.snapshot.source.signer.labels.firstName + \" \" + data.snapshot.source.signer.labels.lastName\n      this.tipoDocumentoOrigen = data.snapshot.source.signer.labels.proprietary;\n      this.numDocumentoOrigen = data.snapshot.source.signer.labels.identification;\n      this.BancoOrigen = data.snapshot.source.signer.labels.bankName\n    })\n  }\n\n  ConsumoTXDestino() {\n    this.celularDestino = this.separacionDatos[0].split(\"=\")\n    this.Handle = this.separacionDatos[1].split(\"=\")\n    this.cantidad = this.separacionDatos[2].split(\"=\")\n    const datosPrueba = {\n      \"source\": this.signer[1],\n      \"target\": \"$\" + this.celularOrigen[1],\n      \"symbol\": \"$tin\",\n      \"amount\": this.cantidad[1],\n      \"labels\": {\n        \"description\": \"\",\n        \"domain\": \"tin\",\n        \"type\": \"SEND\",\n        \"sourceChannel\": \"APP\",\n        \"deviceFingerPrint\": {\n        }\n      }\n    }\n    this.AuthorizeConsent.ejecucionTX(datosPrueba).subscribe(data => {\n      console.log(data);\n\n      this.nombreCuentaDestino = data.snapshot.source.signer.labels.firstName + \" \" + data.snapshot.source.signer.labels.lastName\n      this.tipoDocumentoDestino = data.snapshot.source.signer.labels.proprietary;\n      this.numDocumentoDestino = data.snapshot.source.signer.labels.identification;\n      this.BancoDestino = data.snapshot.source.signer.labels.bankName\n\n    })\n  }\n\n  ConsumoTXEnvioDinero() {\n    this.celularDestino = this.separacionDatos[0].split(\"=\")\n    this.Handle = this.separacionDatos[1].split(\"=\")\n    this.cantidad = this.separacionDatos[2].split(\"=\")\n    const datosPrueba = {\n      \"source\": \"$\"+ this.celularOrigen[1],\n      \"target\": \"$\"+ this.celularDestino[1],\n      \"symbol\": \"$tin\",\n      \"amount\": this.cantidad,\n      \"labels\": {\n        \"description\": \"DEV - REQUEST Trx 01\",\n        \"domain\": \"tin\",\n        \"type\": \"REQUEST\",\n        \"sourceChannel\": \"APP\",\n        \"deviceFingerPrint\": {\n          \"hash\": \"26fff5af6441f8e15a71e8d62c361714484b1b308c99e8eb68ca85e2a7e0dc58\",\n          \"ipAddress\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\n          \"country\": \"Colombia\",\n          \"city\": \"Bogotá\",\n          \"mobileDevice\": \"990000862471854\",\n          \"SIMCardId\": \"8991101200003204510\",\n          \"model\": \"Huawei Mate 20 Pro\",\n          \"operator\": \"Bharti Airtel Limited\"\n        }\n      }\n    }\n    this.AuthorizeConsent.ejecucionTX(datosPrueba).subscribe(data => {\n      this.router.navigate(['verification/authorize-Access/']);\n    })\n  }\n\n  ConsumoTX(): void {\n    const dialogRef = this.dialog.open(PopUpAuthorizeAccessComponent);\n      dialogRef.afterClosed().subscribe(result => {\n        console.log(`Dialog result: ${result}`);\n      });\n  }*/\n}\n"]}